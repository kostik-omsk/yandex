(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))f(e);new MutationObserver(e=>{for(const i of e)if(i.type==="childList")for(const n of i.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&f(n)}).observe(document,{childList:!0,subtree:!0});function m(e){const i={};return e.integrity&&(i.integrity=e.integrity),e.referrerPolicy&&(i.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?i.credentials="include":e.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function f(e){if(e.ep)return;e.ep=!0;const i=m(e);fetch(e.href,i)}})();function x(){const a=document.querySelector(".stages__slider-wrap"),l=document.querySelector(".stages__container"),m=document.querySelector(".pagination__btn--prev"),f=document.querySelector(".pagination__btn--next"),e=document.querySelectorAll(".pagination__item"),i=5;let n=1,s=a.offsetWidth;function o(){m.disabled=n===1,f.disabled=n===i}function c(){e.forEach(y=>{y.classList.remove("pagination__item-active")}),e[n-1].classList.add("pagination__item-active")}c();function h(){l.style.transform=`translateX(-${s*(n-1)}px)`,c(),o()}m.addEventListener("click",()=>{n>1&&(n-=1,h())}),f.addEventListener("click",()=>{n<=i&&(n+=1,h())}),window.addEventListener("resize",()=>{const E=window.innerWidth<849;s=a.offsetWidth,E?l.style.transform=`translateX(-${s*(n-1)}px)`:(l.style.transform="translateX(0px)",n=1,h())})}const g=""+new URL("player-h2L6kHzE.webp",import.meta.url).href,v=[{order:1,name:"Хозе-Рауль Капабланка",description:"Чемпион мира по шахматам",photo:g},{order:2,name:"Эммануил Ласкер",description:"Чемпион мира по шахматам",photo:g},{order:3,name:"Александр Алехин",description:"Чемпион мира по шахматам",photo:g},{order:4,name:"Арон Нимцович",description:"Чемпион мира по шахматам",photo:g},{order:5,name:"Рихард Рети",description:"Чемпион мира по шахматам",photo:g},{order:6,name:"Остап Бендер",description:"Чемпион мира по шахматам",photo:g}];function W(){const a=document.querySelector("#carousel"),l=document.querySelector("#pagination"),m=document.querySelector("#prev"),f=document.querySelector("#next"),e=document.querySelector("#shown-number"),i=document.querySelector("#quantity"),n=v.length;let s=h(window.innerWidth),o=s,c=b(s,n,v);c.forEach(t=>a.append(t)),i.innerHTML=`&#47;${v.length}`,e.innerHTML=`${o}`;function h(t){return t>1200?3:t<789?1:2}function y(){const t=h(window.innerWidth);t!==s&&(s=t,o=t,c=b(s,n,v),a.innerHTML="",c.forEach(r=>a.append(r)),e.innerHTML=`${o}`)}function E(t){const r=document.createElement("div");return r.classList.add("cards__item"),r.innerHTML=`
    <img src="${t.photo}" alt="Игрок">
    <div class="cards__info">
      <p class="cards__name">${t.name}</p>
      <p class="cards__description">${t.description}</p>
    </div>
    <button class="cards__btn">Подробнее</button>
    `,r}function b(t,r,u){const d=[],S=Math.ceil(r/t);for(let p=0;p<S;p+=1){const L=document.createElement("li");L.classList.add("cards__list"),p===0&&L.classList.add("is-selected");for(let w=0;w<t;w+=1){const N=p*t+w;N<r&&L.append(E(u[N]))}p===S-1?d.unshift(L):d.push(L)}if(S<s){d.push(d[0].cloneNode(!0));const p=d[1].cloneNode(!0);p.classList.remove("is-selected"),d.push(p)}return d}function M(t){const r=v.length;if(t){const u=r-o;o+=Math.min(u||s,s),o>r&&(o=s)}else{const u=r%s;o===s?o=r:o===r?o-=u||s:o-=s}e.innerHTML=`${o}`}function T(t){c=[...a.children];const r=a.querySelector(".is-selected"),u=c.indexOf(r);r.classList.remove("is-selected");let d;t?d=u<c.length-1?u+1:0:d=u>0?u-1:c.length-1,c[d].classList.add("is-selected"),t?a.appendChild(c.shift()):a.insertBefore(c.pop(),c[0]),M(t)}f.addEventListener("click",()=>{T(!0)}),m.addEventListener("click",()=>{T(!1)}),window.addEventListener("resize",y);const P=4e3;let q;const O=()=>{f.dispatchEvent(new Event("click"))},_=()=>{q=setTimeout(()=>{O(),_()},P)},C=()=>{clearTimeout(q)};a.addEventListener("mouseover",C),l.addEventListener("mouseover",C),a.addEventListener("mouseleave",_),l.addEventListener("mouseleave",_),_()}x();W();
